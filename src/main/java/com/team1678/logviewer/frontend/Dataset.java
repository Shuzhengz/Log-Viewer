package com.team1678.logviewer.frontend;

import com.team1678.logviewer.backend.Input;
import com.team1678.logviewer.backend.Processor;
import com.team1678.logviewer.backend.Transfer;

import org.jfree.data.xy.DefaultXYDataset;
import org.jfree.data.xy.XYDataset;

import java.util.List;

public class Dataset extends Graph{

    private static final List<String> kHeaders = Processor.getHeaders();
    private static final List<List<String>>kOrganizedData = Processor.getOrganizedData();

    //private static double [] timestamp = getDataFromList(cleanOrganizedData(kOrganizedData).get(0));

    private static double [] timestamp = {18.938787, 19.004312, 19.037666, 19.044601, 19.05167, 19.056286, 19.060203, 19.065927, 19.069841, 19.082755, 19.095348, 19.099645, 19.111894, 19.124968, 19.131631, 19.135978, 19.140672, 19.147688, 19.151378, 19.154895, 19.159315, 19.167953, 19.171729, 19.176028, 19.179437, 19.185012, 19.194266, 19.204346, 19.214252, 19.226572, 19.234396, 19.244312, 19.254833, 19.264258, 19.274361, 19.284244, 19.294243, 19.304324, 19.314216, 19.324292, 19.334295, 19.344382, 19.354507, 19.364325, 19.37426, 19.384361, 19.394291, 19.404276, 19.414295, 19.424356, 19.43431, 19.444281, 19.454349, 19.46425, 19.474826, 19.484336, 19.494311, 19.5044, 19.514269, 19.527702, 19.534356, 19.544279, 19.554239, 19.568302, 19.574271, 19.584325, 19.594295, 19.60427, 19.614233, 19.624363, 19.6344, 19.644356, 19.654325, 19.664296, 19.674364, 19.684362, 19.694238, 19.704333, 19.714244, 19.724377, 19.735911, 19.744403, 19.755047, 19.764296, 19.774473, 19.784354, 19.794295, 19.804342, 19.814286, 19.824251, 19.834368, 19.844385, 19.855556, 19.864328, 19.875469, 19.884262, 19.894327, 19.904377, 19.914222, 19.924873, 19.934295, 19.944285, 19.954293, 19.964312, 19.974312, 19.984299, 19.994743, 20.004354, 20.014284, 20.024338, 20.034307, 20.044346, 20.054538, 20.064294, 20.074245, 20.084339, 20.094215, 20.104407, 20.115151, 20.125272, 20.134713, 20.144301, 20.154236, 20.169335, 20.174281, 20.184369, 20.194273, 20.2044, 20.215039, 20.224244, 20.234399, 20.244354, 20.25481, 20.264354, 20.274765, 20.284319, 20.294524, 20.304965, 20.315144, 20.324376, 20.334744, 20.344371, 20.354448, 20.364326, 20.374274, 20.384239, 20.394231, 20.404686, 20.414278, 20.424335, 20.434219, 20.444274, 20.454262, 20.464294, 20.474436, 20.484308, 20.49433, 20.504323, 20.514474, 20.5243, 20.534265, 20.544267, 20.554542, 20.564506, 20.574887, 20.584254, 20.594292, 20.604367, 20.614236, 20.624527, 20.634294, 20.644241, 20.654306, 20.664337, 20.674224, 20.684329, 20.694314, 20.70429, 20.714376, 20.725719, 20.735079, 20.74435, 20.754318, 20.765694, 20.77425, 20.784253, 20.7945, 20.804249, 20.81427, 20.82425, 20.834257, 20.844324, 20.854342, 20.864288, 20.874503, 20.884326, 20.894301, 20.904376, 20.914246, 20.924309, 20.935184, 20.944726, 20.954486, 20.96431, 20.974333, 20.984314, 20.994225, 21.004346, 21.014279, 21.02429, 21.034356, 21.044336, 21.054231, 21.064256, 21.074222, 21.084334, 21.094231, 21.104339, 21.114379, 21.124397, 21.134551, 21.144373, 21.154422, 21.164344, 21.174293, 21.184368, 21.194261, 21.204263, 21.214224, 21.224337, 21.234466, 21.244336, 21.254444, 21.264356, 21.274296, 21.284383, 21.294339, 21.304328, 21.314232, 21.324427, 21.334262, 21.3443, 21.354762, 21.367715, 21.374277, 21.384441, 21.39429, 21.404315, 21.414299, 21.424328, 21.434535, 21.444366, 21.454531, 21.464286, 21.474322, 21.48428, 21.494358, 21.504333, 21.514208, 21.525018, 21.534256, 21.544306, 21.554262, 21.564266, 21.574345, 21.584369, 21.594302, 21.604271, 21.614361, 21.624378, 21.634345, 21.644246, 21.654281, 21.664246, 21.674353, 21.684257, 21.694222, 21.7044, 21.714246, 21.724276, 21.734307, 21.744245, 21.754758, 21.764332, 21.774241, 21.784343, 21.795282, 21.804295, 21.814256, 21.824367, 21.834237, 21.844288, 21.854314, 21.864269, 21.874291, 21.884371, 21.894263, 21.90427, 21.914308, 21.924296, 21.934329, 21.944295, 21.954347, 21.964296, 21.97431, 21.98434, 21.994214, 22.005856, 22.015034, 22.025906, 22.035963, 22.050186, 22.067379, 22.089798, 22.092693, 22.096324, 22.098913, 22.10587, 22.114627, 22.134219, 22.168455, 22.175059, 22.179292, 22.185188, 22.187869, 22.191063, 22.197037, 22.211211, 22.214231, 22.224342, 22.234294, 22.244529, 22.254488, 22.264323, 22.274283, 22.28436, 22.294261, 22.304286, 22.314289, 22.324287, 22.334361, 22.344244, 22.354403};
    private static double [][] leftPos = { timestamp, {0,  0,  0,  0,  56,  56,  232,  313,  313,  540,  640,  697,  871,  1186,  1296,  1296,  1543,  1796,  1796,  1796,  1796,  2364,  2364,  2525,  2525,  2823,  3148,  3458,  3770,  4117,  4487,  4672,  5237,  5582,  6045,  6264,  6928,  7375,  7861,  8376,  8922,  9470,  10026,  10586,  11155,  11725,  12022,  12907,  13515,  14108,  14715,  15349,  16008,  16679,  17370,  18078,  18785,  19513,  20239,  20994,  21774,  22559,  23355,  24569,  24981,  25836,  26728,  27588,  28475,  28914,  29797,  31215,  32181,  33121,  33895,  34845,  35944,  36952,  37959,  38964,  39993,  41032,  42104,  43140,  44202,  45260,  46386,  47484,  48619,  49793,  50995,  52167,  53402,  54658,  55284,  57165,  58426,  59670,  60958,  62230,  63497,  64797,  66114,  67457,  68810,  70167,  71563,  72962,  74390,  75809,  77221,  78626,  80042,  81453,  82879,  84271,  85687,  87105,  87823,  89971,  91396,  92874,  94358,  96152,  96801,  98242,  99815,  101375,  102801,  104142,  105535,  106931,  108459,  108459,  111370,  112837,  114169,  115602,  117054,  118509,  119883,  121247,  121951,  123976,  125400,  126898,  128283,  129681,  131064,  132457,  133918,  135333,  136758,  138092,  139523,  140220,  142326,  143041,  145214,  146630,  147978,  149380,  150797,  152184,  153630,  155029,  155743,  157826,  159194,  160624,  161992,  163461,  164860,  166200,  167551,  168937,  170352,  171754,  172478,  174628,  176073,  177512,  178960,  180302,  181724,  183124,  184562,  185995,  187383,  188774,  189490,  191590,  193001,  194384,  195481,  196695,  198229,  199873,  201490,  202862,  204200,  205530,  206916,  208176,  209191,  210063,  211194,  212756,  214489,  216263,  217791,  219074,  220365,  221677,  222371,  224470,  225862,  227209,  228586,  229879,  231213,  232536,  233863,  235159,  236433,  237665,  238876,  240073,  241310,  242529,  243722,  244885,  246096,  247252,  248405,  249512,  250597,  251652,  252195,  253793,  254822,  255882,  256931,  257850,  258829,  259809,  260770,  261684,  262582,  263444,  264294,  265154,  265991,  266861,  267623,  268382,  269178,  269947,  270708,  271467,  272177,  272881,  273230,  274261,  274942,  275626,  276269,  276902,  277513,  278115,  278712,  279291,  279845,  280377,  280919,  281427,  281945,  282454,  282937,  283403,  283863,  284309,  284730,  285146,  285538,  285922,  286110,  286666,  287030,  287391,  287705,  288008,  288311,  288599,  288874,  289131,  289361,  289585,  289820,  290037,  290308,  290592,  290860,  290996,  291098,  291255,  291436,  291537,  291754,  291832,  291847,  292021,  292209,  292257,  292257,  292259,  292259,  292309,  292398,  292453,  292509,  292515,  292515,  292522,  292522,  292522,  292522,  292518,  292518,  292520,  292520,  292518,  292515,  292512,  292510,  292504,  292502,  292502,  292502,  292502,  292502,  292502,  292502}};

    public Dataset(String title) {
        super(title);
    }

    // Creating the dataset
    public static XYDataset createDataset() {
        int kHeaderCount = getHeaderCount(kHeaders);
        DefaultXYDataset dataset = new DefaultXYDataset();

        for (int headerNum = 1; headerNum < kHeaderCount; headerNum++){
            dataset.addSeries(kHeaders.get(headerNum), leftPos);
        }
        return dataset;
    }

    // Count how many headers there are
    private static int getHeaderCount(List<String> headerList) {
        return headerList.size();
    }

    // Get rid of the headers in organizedData
    private static List<List<String>> cleanOrganizedData(List<List<String>> organizedData){
        List<List<String>> cleanedOrganizedData = organizedData;
        return cleanedOrganizedData;
    }

    // Convert List<String> to double[]
    private static double[] getDataFromList(List<String> listInput){
        return listInput.stream().mapToDouble(d -> Double.parseDouble(d)).toArray();
    }
}
